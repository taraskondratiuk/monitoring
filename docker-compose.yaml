version: '3'
services:
  prometheus:
    image:
      prom/prometheus
    container_name:
      prometheus
    hostname:
      prometheus
    restart:
      unless-stopped
    volumes:
      - $PROMETHEUS_VOLUME:/prometheus
    ports:
      - '9090:9090'
    networks:
      - monitoring-network
  grafana:
    image:
      grafana/grafana-enterprise
    container_name:
      garafana
    hostname:
      grafana
    restart:
      unless-stopped
    volumes:
      - $GRAFANA_VOLUME:/var/lib/grafana
    ports:
      - '3000:3000'
    networks:
      - monitoring-network

networks:
  monitoring-network:
    name: $NETWORK_NAME
    external: true
